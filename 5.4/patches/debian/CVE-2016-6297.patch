X-Git-Url: http://72.52.91.13:8000/?p=php-src.git;a=blobdiff_plain;f=ext%2Fzip%2Fzip_stream.c;h=a9192d26cb8905bb3aa4ff5b8cd546337515f966;hp=400edd6e6c0b9d46d66fc315429d1561cf9de34b;hb=81406c0c1d45f75fcc7972ed974d2597abb0b9e9;hpb=0218acb7e756a469099c4ccfb22bce6c2bd1ef87

Index: php5-5.4.45/ext/zip/zip_stream.c
===================================================================
--- php5-5.4.45.orig/src/ext/zip/zip_stream.c	2016-08-19 15:00:49.000000000 +0200
+++ php5-5.4.45/src/ext/zip/zip_stream.c	2016-08-19 15:00:49.000000000 +0200
@@ -214,7 +214,7 @@
 			self = emalloc(sizeof(*self));
 
 			self->za = stream_za;
-			self->zf = zf; 
+			self->zf = zf;
 			self->stream = NULL;
 			self->cursor = 0;
 			stream = php_stream_alloc(&php_stream_zipio_ops, self, NULL, mode);
@@ -241,7 +241,7 @@
 											char **opened_path,
 											php_stream_context *context STREAMS_DC TSRMLS_DC)
 {
-	int path_len;
+	size_t path_len;
 
 	char *file_basename;
 	size_t file_basename_len;
@@ -250,7 +250,7 @@
 	struct zip *za;
 	struct zip_file *zf = NULL;
 	char *fragment;
-	int fragment_len;
+	size_t fragment_len;
 	int err;
 
 	php_stream *stream = NULL;
@@ -293,7 +293,7 @@
 			self = emalloc(sizeof(*self));
 
 			self->za = za;
-			self->zf = zf; 
+			self->zf = zf;
 			self->stream = NULL;
 			self->cursor = 0;
 			stream = php_stream_alloc(&php_stream_zipio_ops, self, NULL, mode);

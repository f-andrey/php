diff -up php-5.2.17/Zend/zend_language_scanner.l.bug-61095 php-5.2.17/Zend/zend_language_scanner.l
--- php-5.2.17/src/Zend/zend_language_scanner.l.bug-61095	2012-05-03 22:06:06.000000000 -0400
+++ php-5.2.17/src/Zend/zend_language_scanner.l	2012-05-03 22:06:42.000000000 -0400
@@ -1428,7 +1428,11 @@ HEREDOC_CHARS       ("{"*([^$\n\r\\{]|("
 	}
 
 	if (len < SIZEOF_LONG * 2 || (len == SIZEOF_LONG * 2 && *hex <= '7')) {
-		zendlval->value.lval = strtol(hex, NULL, 16);
+		if (len == 0) {
+			zendlval->value.lval = 0;
+		} else {
+			zendlval->value.lval = strtol(hex, NULL, 16);
+		}
 		zendlval->type = IS_LONG;
 		return T_LNUMBER;
 	} else {

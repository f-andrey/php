diff -up php-5.2.17/main/SAPI.c.bug-61650 php-5.2.17/main/SAPI.c
--- php-5.2.17/src/main/SAPI.c.bug-61650	2012-05-03 21:08:35.000000000 -0400
+++ php-5.2.17/src/main/SAPI.c	2012-05-03 21:09:24.000000000 -0400
@@ -915,7 +915,9 @@ SAPI_API char *sapi_getenv(char *name, s
 		} else {
 			return NULL;
 		}
-		sapi_module.input_filter(PARSE_ENV, name, &value, strlen(value), NULL TSRMLS_CC);
+		if (sapi_module.input_filter) {
+		    sapi_module.input_filter(PARSE_ENV, name, &value, strlen(value), NULL TSRMLS_CC);
+		}
 		return value;
 	}
 	return NULL;
